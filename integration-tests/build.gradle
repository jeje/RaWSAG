apply plugin: 'apt'

dependencies {
    compile project(':netty-codecs')
    compile project(':netty-compiler')
    compile 'com.squareup.dagger:dagger:1.2.2'
    compile 'com.squareup.dagger:dagger-compiler:1.2.2'
    compile 'com.codahale.metrics:metrics-core:3.0.2'
    compile 'com.codahale.metrics:metrics-annotation:3.0.2'
    compile 'com.netflix.rxjava:rxjava-core:0.20.2'
    compile 'com.netflix.rxjava:rxjava-groovy:0.20.2'

    apt project(':netty-compiler')
    apt 'com.squareup.dagger:dagger-compiler:1.2.2'

    testCompile 'org.spockframework:spock-core:0.7-groovy-2.0'
    testCompile 'com.netflix.rxnetty:rx-netty:0.3.12'
}

compileJava {
    options.compilerArgs << '-Adagger=true' << '-Ametrics=true' << '-Ashiro=true'
//    options.compilerArgs << '-XprintProcessorInfo' << '-XprintRounds'
}

pmd {
    ignoreFailures = true
}